<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ocean Doces</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #FFB6C1;
            --secondary-color: #FF69B4;
            --accent-color: #FF1493;
            --light-color: #FFF0F5;
            --dark-color: #DB7093;
            --text-color: #5D3A3A;
            --light-text: #FFFFFF;
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--light-color);
            color: var(--text-color);
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            padding: 15px 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0 20px;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            width: 100%;
            align-items: center;
            margin-bottom: 15px;
        }

        .store-name h1 {
            font-family: 'Pacifico', cursive;
            color: var(--light-text);
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            margin: 0;
        }

        .search-container {
            width: 100%;
            margin: 15px 0;
        }

        .search-container input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 25px;
            border: none;
            font-family: 'Quicksand', sans-serif;
            transition: var(--transition);
        }

        .search-container input:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--accent-color);
        }

        .login-container {
            display: flex;
            align-items: center;
        }

        .user-greeting {
            color: var(--light-text);
            margin-right: 10px;
            font-weight: 500;
        }

        .btn {
            background-color: transparent;
            border: 2px solid var(--light-text);
            color: var(--light-text);
            padding: 8px 15px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Quicksand', sans-serif;
            font-weight: 500;
            transition: var(--transition);
            margin: 0 5px;
        }

        .btn:hover {
            background-color: var(--light-text);
            color: var(--secondary-color);
        }

        .btn.solid {
            background-color: var(--accent-color);
            border-color: var(--accent-color);
            color: white;
        }

        .btn.solid:hover {
            background-color: var(--dark-color);
            border-color: var(--dark-color);
        }

        .btn.clear {
            background-color: transparent;
            border-color: transparent;
            color: var(--light-text);
        }

        .btn.clear:hover {
            text-decoration: underline;
        }

        .categories {
            width: 100%;
        }

        .categories ul {
            display: flex;
            justify-content: center;
            list-style: none;
            padding: 0;
        }

        .categories li {
            margin: 0 15px;
        }

        .categories a {
            color: var(--light-text);
            text-decoration: none;
            font-weight: 500;
            padding: 10px 15px;
            display: block;
            transition: var(--transition);
            border-radius: 5px;
        }

        .categories a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        main {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        h2 {
            font-family: 'Pacifico', cursive;
            color: var(--dark-color);
            margin-bottom: 20px;
            font-size: 2rem;
            text-align: center;
        }

        .products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .product {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .product:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .product img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 3px solid var(--primary-color);
        }

        .product h3 {
            padding: 15px 15px 5px;
            font-size: 1.2rem;
            color: var(--dark-color);
        }

        .price {
            padding: 0 15px;
            font-weight: bold;
            color: var(--accent-color);
            font-size: 1.1rem;
        }

        .description {
            padding: 10px 15px;
            font-size: 0.9rem;
            color: var(--text-color);
            opacity: 0.8;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-color);
        }

        .modal h2 {
            margin-bottom: 20px;
            text-align: center;
        }

        .modal input, .modal select {
            display: block;
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Quicksand', sans-serif;
        }

        .modal input:focus, .modal select:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .form-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .list-container {
            margin-top: 30px;
        }

        .list-container h3 {
            margin-bottom: 15px;
            color: var(--dark-color);
        }

        .search-container {
            margin-bottom: 15px;
        }

        .search-container input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .items-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #eee;
            border-radius: 5px;
            padding: 10px;
        }

        .item {
            background-color: #FFF9FB;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid var(--primary-color);
        }

        .item-info h4 {
            color: var(--dark-color);
            margin-bottom: 5px;
        }

        .item-actions {
            display: flex;
        }

        .edit-btn {
            margin-right: 10px;
            background-color: var(--primary-color);
            color: white;
            border: none;
        }

        .edit-btn:hover {
            background-color: var(--accent-color);
        }

        .delete-btn {
            background-color: #ff6b6b;
            color: white;
            border: none;
        }

        .delete-btn:hover {
            background-color: #ff5252;
        }

        .confirmation-popup .modal-content {
            text-align: center;
        }

        .popup-buttons {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .popup-buttons .btn {
            margin: 0 10px;
        }

        .btn.confirm {
            background-color: #ff6b6b;
            color: white;
            border: none;
        }

        .btn.confirm:hover {
            background-color: #ff5252;
        }

        .btn.cancel {
            background-color: #ddd;
            color: var(--text-color);
            border: none;
        }

        .btn.cancel:hover {
            background-color: #ccc;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--accent-color);
            color: white;
            padding: 12px 24px;
            border-radius: 4px;
            box-shadow: var(--shadow);
            z-index: 1001;
            animation: fadeIn 0.3s, fadeOut 0.3s 2.7s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(20px); }
        }

        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-top: 50px;
        }

        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                text-align: center;
            }
            
            .store-name {
                margin-bottom: 15px;
            }
            
            .categories ul {
                flex-wrap: wrap;
            }
            
            .categories li {
                margin: 5px;
            }
            
            .item {
                flex-direction: column;
            }
            
            .item-actions {
                margin-top: 10px;
                width: 100%;
                justify-content: flex-end;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="top-bar">
                <div class="store-name">
                    <h1>Ocean Doces</h1>
                </div>
                <div class="login-container">
                    <div class="user-greeting" id="userGreeting" style="display: none;"></div>
                    <button id="loginButton" class="btn login-button">Login</button>
                    <button id="logoutButton" class="btn logout-button" style="display: none;">Logout</button>
                </div>
            </div>
            <nav class="categories">
                <ul>
                    <li><a href="#" class="category-link" data-category="bombons">Bombons</a></li>
                    <li><a href="#" class="category-link" data-category="trufas">Trufas</a></li>
                    <li><a href="#" class="category-link" data-category="especiais">Especiais</a></li>
                    <li><a href="#" id="clientes-button">Clientes</a></li>
                    <li><a href="#" id="produtos-button">Produtos</a></li>
                </ul>
            </nav>
            <div class="search-container">
                <input type="text" id="searchProducts" placeholder="Pesquisar doces...">
            </div>
        </div>
    </header>

    <main>
        <section class="featured-products">
            <h2 id="category-title">Nossos Doces</h2>
            <div class="products" id="productsContainer"></div>
        </section>
    </main>

    <div id="loginPopup" class="modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Login</h2>
            <form id="loginForm">
                <input type="email" id="email" placeholder="E-mail" required value="test@gmail.com">
                <input type="password" id="password" placeholder="Senha" required value="123456">
                <button type="submit" class="btn solid">Entrar</button>
            </form>
        </div>
    </div>

    <div id="clientesPopup" class="modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Cadastro de Clientes</h2>
            <form id="clientesForm">
                <input type="hidden" id="clienteId">
                <input type="text" id="nomeCliente" placeholder="Nome completo" required>
                <input type="text" id="cpfCliente" placeholder="CPF" required>
                <input type="email" id="emailCliente" placeholder="E-mail" required>
                <input type="text" id="enderecoCliente" placeholder="Endereço" required>
                <input type="tel" id="telefoneCliente" placeholder="Telefone" required>
                <div class="form-buttons">
                    <button type="submit" class="btn solid">Salvar</button>
                    <button type="button" id="cancelarCliente" class="btn clear">Cancelar</button>
                </div>
            </form>
            <div class="list-container">
                <h3>Clientes Cadastrados</h3>
                <div class="search-container">
                    <input type="text" id="searchClientes" placeholder="Pesquisar clientes...">
                </div>
                <div id="clientesList" class="items-list"></div>
            </div>
        </div>
    </div>

    <div id="produtosPopup" class="modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Cadastro de Produtos</h2>
            <form id="produtosForm">
                <input type="hidden" id="produtoId">
                <input type="text" id="nomeProduto" placeholder="Nome do produto" required>
                <input type="text" id="precoProduto" placeholder="Preço (ex: R$ 4,50)" required>
                <select id="categoriaProduto" required>
                    <option value="">Selecione a categoria</option>
                    <option value="bombons">Bombons</option>
                    <option value="trufas">Trufas</option>
                    <option value="especiais">Especiais</option>
                </select>
                <input type="text" id="descricaoProduto" placeholder="Descrição">
                <input type="text" id="imagemProduto" placeholder="URL da imagem">
                <div class="form-buttons">
                    <button type="submit" class="btn solid">Salvar</button>
                    <button type="button" id="cancelarProduto" class="btn clear">Cancelar</button>
                </div>
            </form>
            <div class="list-container">
                <h3>Produtos Cadastrados</h3>
                <div class="search-container">
                    <input type="text" id="searchProdutosAdmin" placeholder="Pesquisar produtos...">
                </div>
                <div id="produtosList" class="items-list"></div>
            </div>
        </div>
    </div>

    <div id="confirmDeletePopup" class="modal confirmation-popup">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Confirmar Exclusão</h2>
            <p id="deleteMessage">Tem certeza que deseja excluir este item?</p>
            <div class="popup-buttons">
                <button class="btn confirm" id="confirmDelete">Excluir</button>
                <button class="btn cancel close-modal">Cancelar</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="contact">
            <p>Contato: contato@oceandoces.com.br</p>
        </div>
    </footer>

    <script>
        let produtos = [
            {
                id: 'b1',
                name: 'Bombom de Morango',
                description: 'Delicioso bombom recheado com morango fresco e chocolate cremoso.',
                price: 'R$ 4,50',
                image: 'https://www.estadao.com.br/resizer/v2/Y256SQVTUFH4HJKBCXFSCBE6YE.jpg?quality=80&auth=3e693e16bf6136668880246182b402ad4fe7e2b9b3db231b29d7c6f563597c9f&width=708&height=400&smart=true',
                category: 'bombons'
            },
            {
                id: 'b2',
                name: 'Bombom de Coco',
                description: 'Chocolate ao leite com recheio de coco ralado e um toque tropical.',
                price: 'R$ 4,00',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRqGgO3l579RPaiYIxXChiTRM1usSpdzVrFZozk7IqyzVulKfXxUp9_InHD&s=10',
                category: 'bombons'
            },
            {
                id: 'b3',
                name: 'Bombom de Cereja',
                description: 'Intenso sabor de cereja banhado em chocolate meio amargo.',
                price: 'R$ 5,00',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQv9pQ4hthJotoo46GuO9u2txSeWD2pWT5ebtYWuHeYkwNm4580nUQJYcI&s=10',
                category: 'bombons'
            },
            {
                id: 't1',
                name: 'Trufa Tradicional',
                description: 'Clássica trufa de chocolate, cremosa e irresistível.',
                price: 'R$ 3,50',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-MoHqRR1RCMTAMl7HBbC7yQNbQcxNXOnbDg&s',
                category: 'trufas'
            },
            {
                id: 't2',
                name: 'Trufa de Maracujá',
                description: 'Exótica trufa com o azedinho do maracujá e a doçura do chocolate branco.',
                price: 'R$ 3,80',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR7Eqpo7Wmg4FVrWdOtP4XtdMMrJNToSwRE_vuduF73m9R692nOXMJrmpQ3&s=10',
                category: 'trufas'
            },
            {
                id: 't3',
                name: 'Trufa de Limão',
                description: 'Refrescante trufa de limão, perfeita para quem ama um toque cítrico.',
                price: 'R$ 3,80',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmiPumKGfA4_22dnQE3c9ddIAgYJjHvvxOG_AXZFI3XeQlklQbVkIzzxw&s=10',
                category: 'trufas'
            },
            {
                id: 'e1',
                name: 'Cesta de Bombons Premium',
                description: 'Uma seleção especial dos nossos melhores bombons, ideal para presentear.',
                price: 'R$ 85,00',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvl5PSDZ0-FmWFwlIXMF41LKg0ssS2pvIcrqhPzcaDvrBIF4oOzS7_2UA&s=10',
                category: 'especiais'
            },
            {
                id: 'e2',
                name: 'Caixa de Trufas Artesanais',
                description: 'Caixa com 12 trufas variadas, feitas com todo o carinho e sabor.',
                price: 'R$ 55,00',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTEoheF0Z5y7rNmeSdQZLiRz7BuWKVMGWLZPyKZVCCKXagIXcWZ5djZ-xcd&s=10',
                category: 'especiais'
            }
        ];

        let clientes = JSON.parse(localStorage.getItem('clientes')) || [];

        function saveData() {
            localStorage.setItem('clientes', JSON.stringify(clientes));
            localStorage.setItem('produtos', JSON.stringify(produtos));
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        const loginButton = document.getElementById('loginButton');
        const logoutButton = document.getElementById('logoutButton');
        const userGreeting = document.getElementById('userGreeting');
        const loginForm = document.getElementById('loginForm');
        const loginModal = document.getElementById('loginPopup');
        const clientesButton = document.getElementById('clientes-button');
        const produtosButton = document.getElementById('produtos-button');
        const clientesModal = document.getElementById('clientesPopup');
        const produtosModal = document.getElementById('produtosPopup');
        const clientesForm = document.getElementById('clientesForm');
        const produtosForm = document.getElementById('produtosForm');
        const clientesList = document.getElementById('clientesList');
        const produtosList = document.getElementById('produtosList');
        const confirmDeleteModal = document.getElementById('confirmDeletePopup');
        const deleteMessage = document.getElementById('deleteMessage');
        const confirmDeleteBtn = document.getElementById('confirmDelete');
        const categoryLinks = document.querySelectorAll('.category-link');
        const categoryTitle = document.getElementById('category-title');
        const productsContainer = document.getElementById('productsContainer');
        const closeModalButtons = document.querySelectorAll('.close-modal');
        const searchProductsInput = document.getElementById('searchProducts');
        const searchClientesInput = document.getElementById('searchClientes');
        const searchProdutosAdminInput = document.getElementById('searchProdutosAdmin');

        let itemToDelete = null;
        let deleteType = null;
        let currentCategory = 'all';

        function showModal(modal) {
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modal) {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (email === 'test@gmail.com' && password === '123456') {
                loginButton.style.display = 'none';
                logoutButton.style.display = 'block';
                userGreeting.style.display = 'block';
                userGreeting.textContent = 'Olá, Admin';
                closeModal(loginModal);
                showToast('Login realizado com sucesso!');
            } else {
                showToast('Credenciais incorretas! Use test@gmail.com e senha 123456');
            }
        });

        logoutButton.addEventListener('click', () => {
            loginButton.style.display = 'block';
            logoutButton.style.display = 'none';
            userGreeting.style.display = 'none';
            showToast('Logout realizado com sucesso!');
        });

        loginButton.addEventListener('click', () => showModal(loginModal));
        clientesButton.addEventListener('click', (e) => {
            e.preventDefault();
            showModal(clientesModal);
            loadClientes();
        });
        produtosButton.addEventListener('click', (e) => {
            e.preventDefault();
            showModal(produtosModal);
            loadProdutos();
        });

        closeModalButtons.forEach(button => {
            button.addEventListener('click', function() {
                const modal = this.closest('.modal');
                closeModal(modal);
                if (modal === clientesModal) clientesForm.reset();
                if (modal === produtosModal) produtosForm.reset();
            });
        });

        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                closeModal(e.target);
                if (e.target === clientesModal) clientesForm.reset();
                if (e.target === produtosModal) produtosForm.reset();
            }
        });

        document.getElementById('cancelarCliente').addEventListener('click', () => {
            clientesForm.reset();
        });
        document.getElementById('cancelarProduto').addEventListener('click', () => {
            produtosForm.reset();
        });

        clientesForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const clienteId = document.getElementById('clienteId').value;
            const cliente = {
                nome: document.getElementById('nomeCliente').value,
                cpf: document.getElementById('cpfCliente').value,
                email: document.getElementById('emailCliente').value,
                endereco: document.getElementById('enderecoCliente').value,
                telefone: document.getElementById('telefoneCliente').value
            };
            
            if (clienteId) {
                const index = clientes.findIndex(c => c.id === clienteId);
                if (index !== -1) {
                    clientes[index] = { ...cliente, id: clienteId };
                    showToast('Cliente atualizado com sucesso!');
                }
            } else {
                cliente.id = Date.now().toString();
                clientes.push(cliente);
                showToast('Cliente cadastrado com sucesso!');
            }
            
            saveData();
            loadClientes();
            clientesForm.reset();
        });

        produtosForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const produtoId = document.getElementById('produtoId').value;
            const produto = {
                name: document.getElementById('nomeProduto').value,
                price: document.getElementById('precoProduto').value,
                category: document.getElementById('categoriaProduto').value,
                description: document.getElementById('descricaoProduto').value,
                image: document.getElementById('imagemProduto').value
            };
            
            if (produtoId) {
                const index = produtos.findIndex(p => p.id === produtoId);
                if (index !== -1) {
                    produtos[index] = { ...produto, id: produtoId };
                    showToast('Produto atualizado com sucesso!');
                }
            } else {
                produto.id = Date.now().toString();
                produtos.push(produto);
                showToast('Produto cadastrado com sucesso!');
            }
            
            saveData();
            loadProdutos();
            produtosForm.reset();
            loadProducts(currentCategory);
        });

        function loadClientes() {
            clientesList.innerHTML = '';
            
            if (clientes.length === 0) {
                clientesList.innerHTML = '<p>Nenhum cliente cadastrado.</p>';
                return;
            }
            
            clientes.forEach(cliente => {
                const item = document.createElement('div');
                item.className = 'item';
                item.innerHTML = `
                    <div class="item-info">
                        <h4>${cliente.nome}</h4>
                        <p>CPF: ${cliente.cpf}</p>
                        <p>E-mail: ${cliente.email}</p>
                    </div>
                    <div class="item-actions">
                        <button class="btn edit-btn" data-id="${cliente.id}">Editar</button>
                        <button class="btn delete-btn" data-id="${cliente.id}">Excluir</button>
                    </div>
                `;
                clientesList.appendChild(item);
            });
        }

        function loadProdutos() {
            produtosList.innerHTML = '';
            
            if (produtos.length === 0) {
                produtosList.innerHTML = '<p>Nenhum produto cadastrado.</p>';
                return;
            }
            
            produtos.forEach(produto => {
                const item = document.createElement('div');
                item.className = 'item';
                item.innerHTML = `
                    <div class="item-info">
                        <h4>${produto.name}</h4>
                        <p>Preço: ${produto.price}</p>
                        <p>Categoria: ${produto.category}</p>
                    </div>
                    <div class="item-actions">
                        <button class="btn edit-btn" data-id="${produto.id}">Editar</button>
                        <button class="btn delete-btn" data-id="${produto.id}">Excluir</button>
                    </div>
                `;
                produtosList.appendChild(item);
            });
        }

        clientesList.addEventListener('click', function(e) {
            if (e.target.classList.contains('edit-btn')) {
                const id = e.target.dataset.id;
                const cliente = clientes.find(c => c.id === id);
                if (cliente) {
                    document.getElementById('clienteId').value = cliente.id;
                    document.getElementById('nomeCliente').value = cliente.nome;
                    document.getElementById('cpfCliente').value = cliente.cpf;
                    document.getElementById('emailCliente').value = cliente.email;
                    document.getElementById('enderecoCliente').value = cliente.endereco;
                    document.getElementById('telefoneCliente').value = cliente.telefone;
                }
            } else if (e.target.classList.contains('delete-btn')) {
                itemToDelete = e.target.dataset.id;
                deleteType = 'cliente';
                deleteMessage.textContent = 'Tem certeza que deseja excluir este cliente?';
                showModal(confirmDeleteModal);
            }
        });

        produtosList.addEventListener('click', function(e) {
            if (e.target.classList.contains('edit-btn')) {
                const id = e.target.dataset.id;
                const produto = produtos.find(p => p.id === id);
                if (produto) {
                    document.getElementById('produtoId').value = produto.id;
                    document.getElementById('nomeProduto').value = produto.name;
                    document.getElementById('precoProduto').value = produto.price;
                    document.getElementById('categoriaProduto').value = produto.category;
                    document.getElementById('descricaoProduto').value = produto.description || '';
                    document.getElementById('imagemProduto').value = produto.image || '';
                }
            } else if (e.target.classList.contains('delete-btn')) {
                itemToDelete = e.target.dataset.id;
                deleteType = 'produto';
                deleteMessage.textContent = 'Tem certeza que deseja excluir este produto?';
                showModal(confirmDeleteModal);
            }
        });

        confirmDeleteBtn.addEventListener('click', function() {
            if (deleteType === 'cliente') {
                clientes = clientes.filter(c => c.id !== itemToDelete);
                showToast('Cliente excluído com sucesso!');
            } else if (deleteType === 'produto') {
                produtos = produtos.filter(p => p.id !== itemToDelete);
                showToast('Produto excluído com sucesso!');
            }
            
            saveData();
            closeModal(confirmDeleteModal);
            
            if (deleteType === 'cliente') {
                loadClientes();
            } else {
                loadProdutos();
                loadProducts(currentCategory);
            }
            
            itemToDelete = null;
            deleteType = null;
        });

        function loadProducts(category, searchTerm = '') {
            productsContainer.innerHTML = '';
            currentCategory = category;
            
            categoryTitle.textContent = category === 'all' ? 'Nossos Doces' : 
                                    category === 'bombons' ? 'Bombons' :
                                    category === 'trufas' ? 'Trufas' : 'Especiais';
            
            let productsToShow = category === 'all' ? produtos : produtos.filter(p => p.category === category);
            
            if (searchTerm) {
                const term = searchTerm.toLowerCase();
                productsToShow = productsToShow.filter(p => 
                    p.name.toLowerCase().includes(term) || 
                    (p.description && p.description.toLowerCase().includes(term)))
            }
            
            if (productsToShow.length === 0) {
                productsContainer.innerHTML = '<p>Nenhum produto encontrado.</p>';
                return;
            }
            
            productsToShow.forEach(product => {
                const productElement = document.createElement('div');
                productElement.className = 'product';
                productElement.innerHTML = `
                    <img src="${product.image || 'https://via.placeholder.com/300'}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p class="price">${product.price}</p>
                    <p class="description">${product.description || 'Delicioso doce artesanal'}</p>
                `;
                productsContainer.appendChild(productElement);
            });
        }

        categoryLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const category = e.target.dataset.category;
                loadProducts(category);
                
                categoryLinks.forEach(l => l.style.fontWeight = 'normal');
                e.target.style.fontWeight = 'bold';
            });
        });

        searchClientesInput.addEventListener('input', function() {
            const term = this.value.toLowerCase();
            const items = document.querySelectorAll('#clientesList .item');
            
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(term) ? 'flex' : 'none';
            });
        });

        searchProdutosAdminInput.addEventListener('input', function() {
            const term = this.value.toLowerCase();
            const items = document.querySelectorAll('#produtosList .item');
            
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(term) ? 'flex' : 'none';
            });
        });

        searchProductsInput.addEventListener('input', function() {
            loadProducts(currentCategory, this.value);
        });

        if (!localStorage.getItem('produtos')) {
            saveData();
        }
        loadProducts('all');
    </script>
</body>
</html>
